<!DOCTYPE html>
<html lang="en" class="dark">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>SnapServe - Simple Hoster</title>
        <script src="https://cdn.tailwindcss.com"></script>
        <link rel="stylesheet" href="style.css">
        <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap');
        body { font-family: 'Inter', sans-serif; }
    </style>
    </head>
    <body class="flex items-center justify-center min-h-screen p-4 bg-gray-900">

        <div
            class="w-full max-w-xl bg-gray-800 rounded-xl shadow-2xl p-8 space-y-8 custom-card">

            <div id="message-box" class="hidden p-4 text-sm rounded-lg"
                role="alert"></div>

            <div id="auth-view" class="hidden space-y-6">
                <h1
                    class="text-4xl font-extrabold text-center text-white tracking-tight">
                    Welcome to ImageShare
                </h1>

                <form id="login-form" class="space-y-4">
                    <h2
                        class="text-2xl font-semibold text-center text-white">Login</h2>
                    <div>
                        <label for="login-username"
                            class="block text-sm font-medium text-gray-300">Username</label>
                        <input type="text" id="login-username" required
                            class="mt-1 block w-full px-3 py-2 border border-gray-600 rounded-md shadow-sm bg-gray-700 text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">
                    </div>
                    <div>
                        <label for="login-password"
                            class="block text-sm font-medium text-gray-300">Password</label>
                        <input type="password" id="login-password" required
                            class="mt-1 block w-full px-3 py-2 border border-gray-600 rounded-md shadow-sm bg-gray-700 text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">
                    </div>
                    <button type="submit"
                        class="w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-lg font-medium text-white bg-indigo-600 hover:bg-indigo-700">
                        Login
                    </button>
                </form>

                <div class="relative">
                    <div class="absolute inset-0 flex items-center"><span
                            class="w-full border-t border-gray-600"></span></div>
                    <div class="relative flex justify-center text-sm"><span
                            class="px-2 bg-gray-800 text-gray-400">Or</span></div>
                </div>

                <form id="register-form" class="space-y-4">
                    <h2
                        class="text-2xl font-semibold text-center text-white">Register</h2>
                    <div>
                        <label for="register-username"
                            class="block text-sm font-medium text-gray-300">Username</label>
                        <input type="text" id="register-username" required
                            class="mt-1 block w-full px-3 py-2 border border-gray-600 rounded-md shadow-sm bg-gray-700 text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">
                    </div>
                    <div>
                        <label for="register-password"
                            class="block text-sm font-medium text-gray-300">Password</label>
                        <input type="password" id="register-password" required
                            class="mt-1 block w-full px-3 py-2 border border-gray-600 rounded-md shadow-sm bg-gray-700 text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">
                    </div>
                    <button type="submit"
                        class="w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-lg font-medium text-white bg-gray-600 hover:bg-gray-700">
                        Register
                    </button>
                </form>
            </div>

            <div id="app-view" class="hidden space-y-6">

                <div class="flex justify-between items-center">
                    <h1
                        class="text-3xl font-extrabold text-white tracking-tight">
                        My Image Host
                    </h1>
                    <div>
                        <span id="user-greeting"
                            class="text-gray-400 mr-4"></span>
                        <button id="logout-button"
                            class="text-sm text-indigo-400 hover:text-indigo-300 font-medium">Logout</button>
                    </div>
                </div>

                <form id="upload-form" class="space-y-4">
                    <label for="file-upload"
                        class="block text-sm font-medium text-gray-300">Upload a
                        New Image</label>

                    <div id="drop-zone"
                        class="mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-600 border-dashed rounded-md upload-zone">
                        <div class="space-y-1 text-center">
                            <svg class="mx-auto h-12 w-12 text-gray-500"
                                stroke="currentColor" fill="none"
                                viewBox="0 0 48 48" aria-hidden="true">
                                <path
                                    d="M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0l-4.128 4.128M32 16h.01"
                                    stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round" />
                            </svg>
                            <div
                                class="flex text-sm text-gray-400 justify-center">
                                <label for="file-upload"
                                    class="relative cursor-pointer bg-gray-800 rounded-md font-medium text-indigo-400 hover:text-indigo-300">
                                    <span>Choose a file</span>
                                    <input id="file-upload" name="file"
                                        type="file" required class="sr-only"
                                        accept="image/png, image/jpeg, image/gif, image/webp">
                                </label>
                                <p class="pl-1 hidden sm:block">or drag and
                                    drop</p>
                            </div>
                            <p class="text-xs text-gray-500">PNG, JPG, GIF,
                                WEBP</p>
                        </div>
                    </div>

                    <div id="preview-zone" class="hidden mt-1 space-y-2">
                        <p class="text-sm font-medium text-gray-300">Image
                            Preview:</p>
                        <img id="file-preview" src alt="Image preview"
                            class="max-w-full h-auto rounded-lg mx-auto border border-gray-600" />
                        <button type="button" id="clear-preview-button"
                            class="text-sm text-red-500 hover:text-red-400 w-full">
                            Clear & Choose Another File
                        </button>
                    </div>

                    <div class="pt-2">
                        <label for="expiration-select"
                            class="block text-sm font-medium text-gray-300">Delete
                            Image After:</label>
                        <select id="expiration-select" name="expiration"
                            class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-600 bg-gray-700 text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md">
                            <option value="never">Never</option>
                            <option value="5_min">5 Minutes</option>
                            <option value="15_min">15 Minutes</option>
                            <option value="30_min">30 Minutes</option>
                            <option value="1_hour">1 Hour</option>
                            <option value="3_hours">3 Hours</option>
                            <option value="6_hours">6 Hours</option>
                            <option value="12_hours">12 Hours</option>
                            <option value="1_day">1 Day</option>
                            <option value="2_days">2 Days</option>
                            <option value="3_days">3 Days</option>
                            <option value="4_days">4 Days</option>
                            <option value="5_days">5 Days</option>
                            <option value="6_days">6 Days</option>
                            <option value="1_week">1 Week</option>
                            <option value="2_weeks">2 Weeks</option>
                            <option value="3_weeks">3 Weeks</option>
                            <option value="1_month">1 Month</option>
                            <option value="2_months">2 Months</option>
                            <option value="3_months">3 Months</option>
                            <option value="4_months">4 Months</option>
                            <option value="5_months">5 Months</option>
                            <option value="6_months">6 Months</option>
                        </select>
                    </div>
                    <button type="submit" id="submit-button"
                        class="w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-lg font-medium text-white bg-indigo-600 hover:bg-indigo-700">
                        Host Image
                    </button>
                    <div id="loading-indicator"
                        class="hidden text-center text-indigo-400">Uploading...</div>
                </form>

                <div id="details-view" class="hidden text-center space-y-4">
                    <h2 id="details-title"
                        class="text-2xl font-semibold text-green-400">Upload
                        Successful!</h2>
                    <div
                        class="border-2 border-dashed border-gray-600 rounded-lg p-4 bg-gray-700">
                        <img id="image-preview" src alt="Hosted Image"
                            class="max-w-full h-auto rounded-lg mx-auto" />
                    </div>
                    <div class="flex space-x-2">
                        <input type="text" id="share-link" value readonly
                            class="flex-1 p-3 border border-gray-600 rounded-lg text-sm bg-gray-600 text-white">
                        <button id="copy-button"
                            class="px-4 py-3 bg-indigo-600 text-white font-semibold rounded-lg shadow-md hover:bg-indigo-700">
                            Copy
                        </button>
                    </div>
                    <button id="back-to-uploader-button"
                        class="inline-block mt-4 text-indigo-400 hover:text-indigo-300 font-medium">
                        ‚Üê Back to Uploader
                    </button>
                </div>

                <div id="dashboard-view" class="space-y-4">
                    <h2
                        class="text-2xl font-semibold text-white border-t border-gray-600 pt-4">Your
                        Hosted Images</h2>
                    <div id="image-gallery"
                        class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4">
                        <p id="no-images-message"
                            class="text-gray-400 col-span-full">You haven't
                            uploaded any images yet.</p>
                    </div>
                </div>

            </div>
        </div>

        <script src="script.js"></script>
    </body>
</html>
